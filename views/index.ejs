<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Search</title>
</head>

<body>
    <h1>User Search</h1>

    <!-- Search Form -->
    <!-- <form id="searchForm" method="GET" action="/">
        <input type="text" name="firstName" placeholder="first_name">
        <input type="text" name="lastName" placeholder="last_name">
        <input type="text" name="email" placeholder="Email">
        <input type="text" name="city" placeholder="City">
        <input type="text" name="country" placeholder="Country">
        <button type="submit">Search</button>
        <button type="reset" onclick="window.location.href='/'">Reset</button>
    </form> -->

    <form id="searchForm" method="GET" action="/">
        <input type="text" name="search" placeholder="Search by name, email, city, or country">
        <button type="submit">Search</button>
        <button type="reset" onclick="window.location.href='/'">Reset</button>
    </form>

    <!-- Display Results -->
    <h2>Results</h2>
    <table border="1">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>City</th>
                <th>Country</th>
            </tr>
        </thead>
        <tbody>
            <% if (Array.isArray(users) && users.length> 0) { %>
                <% users.forEach((user)=> { %>
                    <tr>
                        <td>
                            <%= user.firstName %>
                        </td>
                        <td>
                            <%= user.lastName %>
                        </td>
                        <td>
                            <%= user.email %>
                        </td>
                        <td>
                            <%= user.city %>
                        </td>
                        <td>
                            <%= user.country %>
                        </td>
                    </tr>
                    <% }); %>
                        <% } else { %>
                            <tr>
                                <td colspan="5">No results found</td>
                            </tr>
                            <% } %>
        </tbody>
    </table>
</body>

</html>